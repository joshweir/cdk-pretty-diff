"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCustomDiff = void 0;
const transform_1 = require("./transform");
const raw_diff_1 = require("./raw-diff");
const getCustomDiff = async (app, props) => {
    const rawDiffs = (props === null || props === void 0 ? void 0 : props.rawDiff) || await (0, raw_diff_1.getRawDiff)(app, props === null || props === void 0 ? void 0 : props.options);
    const nicerDiffs = [];
    for (const rawDiff of rawDiffs) {
        nicerDiffs.push(await (0, transform_1.transformDiff)(rawDiff));
    }
    return nicerDiffs;
};
exports.getCustomDiff = getCustomDiff;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9tLWRpZmYuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY3VzdG9tLWRpZmYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsMkNBQTRDO0FBQzVDLHlDQUF3QztBQUlqQyxNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsR0FBWSxFQUFFLEtBQTJELEVBQTZCLEVBQUU7SUFDMUksTUFBTSxRQUFRLEdBQUcsQ0FBQSxLQUFLLGFBQUwsS0FBSyx1QkFBTCxLQUFLLENBQUUsT0FBTyxLQUFJLE1BQU0sSUFBQSxxQkFBVSxFQUFDLEdBQUcsRUFBRSxLQUFLLGFBQUwsS0FBSyx1QkFBTCxLQUFLLENBQUUsT0FBTyxDQUFDLENBQUM7SUFDekUsTUFBTSxVQUFVLEdBQXFCLEVBQUUsQ0FBQztJQUN4QyxLQUFLLE1BQU0sT0FBTyxJQUFJLFFBQVEsRUFBRTtRQUM5QixVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBQSx5QkFBYSxFQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDL0M7SUFFRCxPQUFPLFVBQVUsQ0FBQztBQUNwQixDQUFDLENBQUM7QUFSVyxRQUFBLGFBQWEsaUJBUXhCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlndXJhdGlvblByb3BzIH0gZnJvbSAnYXdzLWNkay9saWIvY2xpL3VzZXItY29uZmlndXJhdGlvbic7XG5pbXBvcnQgeyBOaWNlclN0YWNrRGlmZiwgU3RhY2tSYXdEaWZmIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1EaWZmIH0gZnJvbSAnLi90cmFuc2Zvcm0nO1xuaW1wb3J0IHsgZ2V0UmF3RGlmZiB9IGZyb20gJy4vcmF3LWRpZmYnO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gXCJhd3MtY2RrLWxpYlwiO1xuaW1wb3J0IHsgRGlmZk9wdGlvbnMgfSBmcm9tICcuL2Nkay1yZXZlcnNlLWVuZ2luZWVyZWQnO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tRGlmZiA9IGFzeW5jIChhcHA6IGNkay5BcHAsIHByb3BzPzogeyByYXdEaWZmPzogU3RhY2tSYXdEaWZmW107IG9wdGlvbnM/OiBEaWZmT3B0aW9ucyB9KTogUHJvbWlzZTxOaWNlclN0YWNrRGlmZltdPiA9PiB7XG4gIGNvbnN0IHJhd0RpZmZzID0gcHJvcHM/LnJhd0RpZmYgfHwgYXdhaXQgZ2V0UmF3RGlmZihhcHAsIHByb3BzPy5vcHRpb25zKTtcbiAgY29uc3QgbmljZXJEaWZmczogTmljZXJTdGFja0RpZmZbXSA9IFtdO1xuICBmb3IgKGNvbnN0IHJhd0RpZmYgb2YgcmF3RGlmZnMpIHtcbiAgICBuaWNlckRpZmZzLnB1c2goYXdhaXQgdHJhbnNmb3JtRGlmZihyYXdEaWZmKSk7XG4gIH1cblxuICByZXR1cm4gbmljZXJEaWZmcztcbn07XG4iXX0=